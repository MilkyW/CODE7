# 开发文档

## 前期：方案敲定
> 2017.12.15

### 融合方案
主要使用胡嘉弘的方案——做一个网络教程资料汇总。类似于一个教程类收藏夹的整理与分享。

加入黎君方案中提出的向收藏者追踪教程提示更新的功能（这个功能是独立的，可以考虑全部完成后追加）。

加入刘泽宇方案中提出的用户发布与用户反馈功能（点赞、评分和评论），同时应向发布者追踪提示最新互动（点赞、评论）。

### 开发环境
react+boolstrap+npm+yeoman

### 页面分工
>ddl：2017/12/18 Mon. 15：59

* 完成度要求：设置所有所需要的变量，只有读取信息的函数留空并返回一个默认值。这样的好处是将前后端分离，也不影响前端页面显示效果的调整。比如获取点赞数这里可以int getThumb(string courseID){return 777;}string courseID = "courseID"; int thumb = getThumb(courseID);

#### 主页
>负责人：胡嘉弘

大LOGO+搜索栏+搜索按钮（参考Google首页），精选栏/搜索结果。精选栏和搜索栏检索原理类似，显示效果相同。【读取教程列表，获取并显示标题（用于搜索结果排序，相关度降序，超链接跳转到对应教程页面）、点赞数（用于精选排序，降序）、评论数、发布者、关键词（用于搜索结果排序，相关度降序）、简介前50字】

![页面右上角登陆栏设想](https://github.com/MilkyW/CODE7/blob/master/src/%E7%99%BB%E9%99%86%E6%A0%8F.png?raw=true)

左上角小LOGO（超链接跳转到主页），右上角登陆栏，未登录状态下显示用户名输入栏、密码输入栏、登陆键，登陆状态下显示用户信息——用户名、个人中心和发布教程的跳转按钮。

【读取注册用户信息：用户名和密码，比对并提示密码错误信息（可用alert，并保留用户名栏和清空密码栏）或转换为登录状态】

这块组建复用在其他所有页面中！

注册页面暂时不提供，可定义admin，admin作为唯一一个用户进行登陆测试。

#### 发布/编辑教程页面
>负责人：黎君

新建时应全留空，修改时应在各个文本框中对应取出原来的信息以便修改。

标题栏*：输入教程标题。

关键词*：输入教程关键词，如编程语言（C++/Java）、适用对象（零基础）、框架名称（FLTK、MFC）等。

基础、进阶、高级：对应小标题和网址。

拓展教程：对应教程站内网址。

发布按钮：提交表单并检查。如有误停留在页面，不清空文本框并提示相应错误（可以把“关键词：”之类字样加粗编程红色）；如果成功则更新后端并跳转到个人中心页面。

【读取目前登陆的用户名信息作为发布者，读取教程列表验证拓展教程是否存在，如存在则读取教程内容文件。写入/修改教程列表，创建/修改教程内容文件，修改用户信息】

#### 教程展示页面
>负责人：吴幸融

![网络教程关系设想](https://github.com/MilkyW/CODE7/blob/master/src/%E7%BD%91%E7%BB%9C%E6%95%99%E7%A8%8B%E5%85%B3%E7%B3%BB%E8%AE%BE%E6%83%B3.png?raw=true)

显示教程标题，点赞数，评分，发布者，发布日期，更新日期，关键词，完整简介。

教程组织结构：基础、进阶、高级，里面各有小标题（超链接到对应网页）。

拓展（复用主页搜索结果显示样式）。

如发布者与登录用户一致，可显示编辑按钮（跳转到发布/编辑页面）。

互动区：显示评分按钮、点赞按钮、收藏按钮、现有评论和新评论栏。

【读写用户信息：是否对此教程已进行过点赞/评分/收藏，读取对应教程信息：教程标题，点赞数，评分，发布者，发布日期，更新日期，关键词，教程内容，评论，更新教程列表中对应教程的：评分、点赞数，更新教程详细内容的评论（用户名、时间、完整内容），更新发布者的用户信息：提示新评论（用户名、时间、内容前50字）】

#### 个人中心页面
>负责人：刘泽宇

显示互动消息（自己发布的教程得到了新的点赞、评分或评论），我的教程和我的收藏部分复用主页搜索结果显示样式，但对我的教程增加修改内容按键（跳转到对应的发布/修改教程页面）。
【读写该用户信息：发布和收藏的教程列表和更新情况】

### 待解决的问题
数据的读写实现：使用.json格式文件，具体方法待前端实现后解决。

数据修改全部重写效率过低：将详细信息分成一个个小文件，增加二级目录查找。

### 数据文件设想

* 用户名和密码

* 教程列表：教程编号（跳转链接）、教程名称、点赞数、收藏数、评分、回复数、关键词、发布者、简介前50字

* 各教程详细内容：以教程编号命名的一个个小文件，含教程简介、教程内容、评论、具体收藏用户

* 用户信息：以用户名命名的一个个小文件、发布教程编号、收藏教程编号、通知信息（发布教程的评论和点赞、收藏教程的更新）